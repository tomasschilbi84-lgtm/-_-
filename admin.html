<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin - MOUL FIX</title>
<style>
body{font-family:Arial;background:#0f0c29;color:#0ff;padding:20px;}
h1{text-align:center;}
#users{display:flex;flex-direction:column;gap:10px;margin-top:20px;}
.card{background:rgba(0,0,0,.6);border:1px solid #0ff;padding:10px;border-radius:10px;display:flex;justify-content:space-between;align-items:center;}
button{background:#0ff;color:#000;border:none;padding:5px 10px;border-radius:5px;cursor:pointer;}
button:hover{background:#00bfbf;}
input{padding:5px;width:200px;border-radius:5px;border:none;margin-right:10px;}
</style>
</head>
<body>

<h1>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</h1>

<div style="text-align:center;margin-bottom:20px;">
<input type="text" id="searchEmail" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„">
<button onclick="searchUser()">Ø¨Ø­Ø«</button>
<button onclick="showAll()">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</button>
<button onclick="clearAll()">Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</button>
</div>

<div id="users"></div>

<script>
let users = JSON.parse(localStorage.getItem("users")) || [];

function displayUsers(list){
  const container = document.getElementById("users");
  container.innerHTML="";
  if(list.length===0){container.innerHTML="<p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</p>"; return;}
  list.forEach((u,i)=>{
    const div = document.createElement("div");
    div.className="card";
    div.innerHTML=`<div>ğŸ‘¤ ${u.name}<br>ğŸ“§ ${u.email}<br>ğŸ”‘ ${u.password}<br>ğŸ•’ ${u.date||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}</div>
    <button onclick="deleteUser(${i})">Ø­Ø°Ù</button>`;
    container.appendChild(div);
  });
}

function deleteUser(index){
  if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ")){
    users.splice(index,1);
    localStorage.setItem("users",JSON.stringify(users));
    displayUsers(users);
  }
}

function clearAll(){
  if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†ØŸ")){
    users=[];
    localStorage.setItem("users",JSON.stringify(users));
    displayUsers(users);
  }
}

function searchUser(){
  const val = document.getElementById("searchEmail").value.trim();
  const filtered = users.filter(u=>u.email.includes(val));
  displayUsers(filtered);
}

function showAll(){
  displayUsers(users);
}

// ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ (Ù„Ùˆ Ø­Ø¨ÙŠØª ØªØ¶ÙŠÙÙ‡ ÙÙŠ register.html)
users = users.map(u=>({...u, date:u.date||new Date().toLocaleString()}));
localStorage.setItem("users",JSON.stringify(users));

displayUsers(users);
</script>

</body>
</html>
